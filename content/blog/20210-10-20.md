+++
title="プログラミング言語Go前編"
date=2021-10-20
+++
# プログラミング言語Goを読んでみた。

プログラミング言語GoとはGo言語の作者カーニハン氏による、Go言語解説の書籍です。


Go言語はまえがきにある通り21世紀のCと言われるだけあり、かなり保守的な文法を持つ言語です。

# 目次

- チュートリアル
- プログラム構造
- 基本データ構造
- コンポジット型
- 関数
- メソッド
- インターフェース
- ゴルーチンとチャンネル
- 共有された変数による並行性
- パッケージとGoツール
- リフレクション
- 低レベルプログラミング

# チュートリアル

Go言語の紹介です。標準ライブラリで画像がつくれるのは少し驚きました。


# プログラム構造
基本的な文法の紹介です。変数名の規則や宣言及び代入、型やスコープについて書いてあります。
##名前
命名規則はCと基本的には変わらない感じです。

##  宣言
宣言は型を変数名の後に書く形式のようです。

## 変数
また `new`によりメモリの動的確保ができるようです。
変数のアドレスを取得するポインタもあるようです。

## 型宣言
`type`により型名の別名を宣言できます。
## パッケージとファイル
名前空間、パッケージ、ファイルの説明へと続きます。

## スコープ
スコープに関してはレキシカルスコープのようです。



# 基本データ構造

Goの型は４つに分類され、基本型、合成型、参照型インターフェイス型の４つがあります。

合成型は、配列、構造体があります。
参照型はポインタ、スライス、マップ、関数、チャンネル型があります。
関数やチャンネルも参照型にまとめられていたの意外でした。



整数には`int8` `int16` `int32`  `int64`、 `uint8` `uint16` `uint32` `uint64`がありそれぞれ8〜64ビットの符号付き、符号なしです。
またrune型という32bit整数の型もあるようです。


不動少数点にはfloat32とfloat64の二種類があるようです。
不動少数点関連の定義は`math`パッケージにあります。
驚くべき事にGoには複素数型があります。

素晴らしいことにGoの文字列はUnicodeを前提している。
GoにおいてUnicodeのテキスト文字列をコードポイントをルーンという概念の列と定義されています。
次のようなコードは

```
for i, r := range "Hello, 世界" {
    fmt.Printf("%d\t%q\t%d\n", i, r, r)  
}
```

以下のように、コードポイントが考慮されて出力されます。

```
0	'H'	72
1	'e'	101
2	'l'	108
3	'l'	108
4	'o'	111
5	','	44
6	' '	32
7	'世'	19990
10	'界'	30028
```


# コンポジット型

コンポジット型には配列、スライス、マップ、構造体の４種類があります。
配列と構造体はどちらも固定サイズですが、マップとスライスは動的なデータ構造だそうです。
スライスは配列の参照を持っているそうです。
マップはいわゆる連想配列です。
構造体には空構造体という空の構造体を定義できるようです。


# 関数
Goにおいて関数はファーストクラスです。またタプルを使うことによって多値を返す事ができます。
またGoには例外はないのでエラー伝播などでエラー処理をするようです。
また、Goには無名関数やクロージャーもあるので多少はSchemeと同じテクニックが使えそうです。
